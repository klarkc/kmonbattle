<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../shared-styles.html">

</head><body><dom-module id="poke-list">
  <template>
    <style include="shared-styles">
    ul li span {
      text-transform: capitalize;
    }
    </style>
    <p>
      Sorry, still in construction..<br>
      Random loading pokemons...
    </p>
    <ul>
      <template is="dom-repeat" items="[[selected]]" index-as="index">
        <li>Loaded [[_getIndex(index)]] of 6: <span>[[item.name]]</span></li>
      </template>
    </ul>
  </template>

  <script>Polymer({is:"poke-list",properties:{pokeIndex:Object,selected:{type:Array,notify:!0},selectable:{type:Boolean,value:!1}},observers:["_previewPokes(pokeIndex, selected)"],_getSelectedCount:function(e){return e.length},_previewPokes:function(){if(!(this.pokeIndex.length<151||this.loading)){this.loading=!0;for(var e=0;e<6;e++){var t=Math.floor(151*Math.random());this._sendPokeRequest(this.pokeIndex[t])}}},_sendPokeRequest:function(e){var t=new XMLHttpRequest;t.onload=function(){this.push("selected",JSON.parse(t.response)),this.selected.length>=6&&(this.loading=!1)}.bind(this),t.open("GET",e.url),t.send()},_getIndex:function(e){return e+1}});</script>
</dom-module>
</body></html>